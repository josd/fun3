@prefix rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .
@prefix : <http://example.org/> . 

{ ?a :partData ?data } <= { ?a :parts ?data } . 
{ ?q :parts { ?part rdf:type ?t } } <= { ?q :has ?part . ?part a ?t } .